<form [formGroup]="createBudgetForm" (ngSubmit)="onSubmit()">

  <p-fieldset legend="Budget Details">

    <div></div>
    <label for="categoryName">Category Name: </label>
    <p-autoComplete formControlName="categoryName" [suggestions]="filteredCategories"
                    (completeMethod)="searchCategory($event)" [dropdown]="true" field="name"
                    [forceSelection]="false" [minLength]="1" id="categoryName"></p-autoComplete>

    <label for="amount">Amount: </label>
    <p-inputNumber formControlName="amount" inputId="currency-gbp" mode="currency" currency="GBP" locale="en-GB"
                   [showButtons]="true" [step]="0.01" id="amount"></p-inputNumber>

    <label for="date">Date: </label>
    <input formControlName="date" type="text" id="date" pInputText/>

    <label for="transactionType">Select Transaction Type: </label>
    <p-selectButton [options]="transactionTypeOptions" formControlName="transactionType" optionLabel="label"
                    optionValue="value" id="transactionType"> </p-selectButton>

  </p-fieldset>

  <p-fieldset [legend]="'Does budget Recur?'">
  <p-inputSwitch  formControlName="isRecurring">

  </p-inputSwitch>

  <ng-template [ngIf]="createBudgetForm.controls['isRecurring'].value">

    <form formGroupName="recurringBudgetForm">
      <p-dropdown [options]="recurringFrequencyOptions"
                  formControlName="frequency"
                  optionLabel="label"
                  optionValue="value">
      </p-dropdown>
      <p-calendar formControlName="endDate"
                  dateFormat="dd/mm/yy"
                  [showIcon]="true"
                   >
      </p-calendar>
    </form>
  </ng-template>
  </p-fieldset>
  <p-dropdown [options]="accounts()"
              formControlName="account"
              optionLabel="name"
              placeholder="Select a Account">
  </p-dropdown>

  <textarea formControlName="note"
            pInputTextarea
            rows="3"
            cols="30"
            placeholder="Notes..."
            [autoResize]="true">
  </textarea>

  <p-colorPicker formControlName="color"
                 [style]="{'width':'100%'}">
  </p-colorPicker>

  <button pButton
          type="submit"
          label="Create"
          >
</button>




</form>
